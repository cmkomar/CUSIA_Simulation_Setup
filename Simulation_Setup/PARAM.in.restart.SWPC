Name Root Last Stride nThread
#COMPONENTMAP		For few cores like nightly test
GM  0 -1 -1 -1		CompMap runs on all PE-s
IM  0 11  1		CompMap runs on up to 24 PE-s
IE -2 -1  1		CompMap runs on last 2 PEs

Name Root Last Stride nThread
COMPONENTMAP		For 128+ cores like production run
GM  0 -26 -1 -1		CompMap runs on 0 to nProc-26 PE-s
IM -25 -2  1		CompMap runs on nProc-25 to nProc-2
IE  -1 -1  1		CompMap runs on the last PE

#INCLUDE
RESTART.in

#DESCRIPTION
Param/SWPC/PARAM.in_cimi_v2_restart: Example file to restart a run for SWPC Version 2 with IM/CIMI		StringDescription

#PROGRESS
10			DnProgressShort
100			DnProgressLong

#SAVERESTART
T			DoSaveRestart
-1			DnSaveRestart
15 min			DtSaveRestart

RESTARTOUTDIR
SWMF_RESTART.YYYYMMDD_HHMMSS		NameRestartOutDir

#CHECKKILL
GM			NameCompCheckKill

CHECKSTOP
T			DoCheckStop
-1			DnCheckStop
1 min			DtCheckStop

CPUTIMEMAX
47.5 hour		CpuTimeMax [sec]

#COUPLEORDER
5			nCouple
IE GM			NameSourceTarget
IE IM			NameSourceTarget
GM IE			NameSourceTarget
GM IM			NameSourceTarget
IM GM			NameSourceTarget

#COUPLE2
GM			NameComp1
IE			NameComp2
-1			DnCouple
5.0			DtCouple

#COUPLE2
IM			NameComp1
GM			NameComp2
-1			DnCouple
10.0			DtCouple

#COUPLE1
IE			NameSource
IM			NameTarget
-1			DnCouple
10.0			DtCouple

#COUPLETIME
GM			NameComp
F			DoCoupleOnTime

#BEGIN_COMP GM ---------------------------------------------------------------


#INCLUDE
GM/restartIN/restart.H

! reset the step counter to avoid accumulation to large numbers
NSTEP
10			nStep

#OUTERBOUNDARY
outflow			TypeBc1
vary			TypeBc2
float			TypeBc3
float			TypeBc4
float			TypeBc5
float			TypeBc6

#INNERBOUNDARY
ionosphere		TypeBcBody

#ANISOPRESSUREIM
T			DoAnisoPressureIMCoupling

! Set the inner boundary density as Rho0Cpcp + RhoPerCpcp*CPCP[keV]
#CPCPBOUNDARY
T			UseCpcpBc  (rest is read if true)
28.0			Rho0Cpcp   [amu/cc]
0.1			RhoPerCpcp [amu/cc / keV]

#SOLARWINDFILE
T			UseSolarWindFile
IMF.dat			NameSolarWindFile

#REFRESHSOLARWINDFILE
T			DoReadAgain

! Satellite trajectories
#INCLUDE
SATELLITES.in

#MAGNETOMETER
MAGNETOMETERS.in	NameMagInputFile
single			TypeFileOut
-1			DnOutput
1 min			DtOutput

#GEOMAGINDICES
180			nSizeKpWindow [min]
1 min			DtOutput      [sec]

#MAGNETOMETERGRID
ascii			TypeFileMagGrid
GEO			TypeCoordMagGrid
3			nLonMagGrid
3			nLatMagGrid
0.			LonMinMagGrid
360.			LonMaxMagGrid
-80.			LatMinMagGrid
80.			LatMaxMagGrid
-1			DnSaveMagGrid
1 min			DtSaveMagGrid

#NONCONSERVATIVE
T			UseNonConservative

#CONSERVATIVECRITERIA
1			nConservCrit
parabola		TypeConservCrit
 5.0			xParabolaConserv
15.0			yParabolaConserv

! Setting 1
#IMCOUPLING
20.0			TauCoupleIm
F			DoImSatTrace
T			DoCoupleImPressure
T			DoCoupleImDensity
0.01			DensityCoupleFloor
F			DoFixPolarRegion
! end of setting 1

! Setting 2
IMCOUPLING
20.0			TauCoupleIm
T			DoImSatTrace
T			DoCoupleImPressure
T			DoCoupleImDensity
0.01			DensityCoupleFloor
T			DoFixPolarRegion
5.0			rFixPolarRegion
56.0			PolarNDim [amu/cc]
50000.0			PolarTDim [K]

IMCOUPLINGSMOOTH
10.0			dLatSmoothIm [deg]
! end of setting 2

! Pressures below pMinDim are replaced with pMinDim.
#MINIMUMPRESSURE
1e-5			pMinDim [nPa]

SAVELOGNAME
F			UseLogNameStep
T			UseLogNameDateTime

SAVEPLOTNAME
F			UsePlotNameStep
F			UsePlotNameTime
T			UsePlotNameDateTime

PLOTFILENAME
date			NameMaxTimeUnit

#SAVELOGFILE
T			DoSaveLogfile
VAR step date		StringLog
-1			DnSaveLogfile
5.0			DtSaveLogfile
dt rho mx my mz p bx by bz pmin pmax dst dst_sm dstflx		NameLogVars
3.0			StringLogRadii

#SAVEPLOT
4			nPlotFile
y=0 MHD idl		StringPlot
-1			DnSavePlot
5 min			DtSavePlot
-1.0			DxSavePlot
z=0 MHD idl		StringPlot
-1			DnSavePlot
5 min			DtSavePlot
-1.0			DxSavePlot
1d MHD idl
-1
1 min
-1.0
3d FUL idl
-1
60 min
-1.0

#SCHEME
2			nOrder
Sokolov			TypeFlux
mc3			TypeLimiter
1.2			LimiterBeta

#BORIS
T			UseBorisCorrection
0.01			BorisClightFactor

#REGION
borisregion		NameRegion
sphere tapered		StringShape
-4.0			xPosition
0.0			yPosition
0.0			zPosition
14.0			Radius
2.0			Taper

BORISREGION
borisregion		NameBorisRegion

#TIMESTEPPING
1			nStage
0.85			CflExpl

#END_COMP GM -----------------------------------------------------------------

#BEGIN_COMP IM ---------------------------------------------------------------

#INCLUDE
IM/restartIN/restart.H

SAVEPLOT
1			nCimiPlotType
2d both			StringPlot
1 min			DtOutput
T			UseSeparatePlotFiles

#TYPEBOUNDARY
ellipse			TypeBoundary

#DECAY
T			UseDecay
10 hour			DecayTimescale [s]

#COMPOSITION
FIXED			NameCompModel
0.7			FractionH H+
0.3			FractionO O+
1.0			FractionElectron e-

#SAVELOG
5.0			DtLogOut

#SAVEPLOT
1
2d eq
60.
F

#END_COMP IM -----------------------------------------------------------------

#BEGIN_COMP IE ---------------------------------------------------------------

#RESTART
T			DoRestart

#IONOSPHERE
5			iConductanceModel
F			UseFullCurrent
F			UseFakeRegion2
105.9			F107Flux
1.0			StarLightPedConductance
0.25			PolarCapPedConductance

#BOUNDARY
10.0			LatBoundary

#AURORALOVAL
T			UseOval (rest of parameters read if true)
T			UseOvalShift
F			UseSubOvalConductance
T			UseAdvancedOval
F			DoFitCircle (read if UseAdvancedOval is true)

#SAVEPLOT
1			nPlotFile
max idl			StringPlot
-1			DnSavePlot
1 min			DtSavePlot

#END_COMP IE -----------------------------------------------------------------

STOP
-1			MaxIter
86400.0			TimeMax

#ENDTIME
2012			iYear
10			iMonth
09			iDay
12			iHour
00			iMinute
00			iSecond
0.0			FracSecond

#END ############################################################
